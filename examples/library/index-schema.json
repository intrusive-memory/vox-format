{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/intrusive-memory/vox-format/schemas/library-index-v0.1.0.json",
  "title": "VOX Library Index Schema",
  "description": "JSON Schema for the library/index.json file containing searchable voice metadata",
  "type": "array",
  "items": {
    "type": "object",
    "required": ["file", "name", "description", "tags", "language"],
    "properties": {
      "file": {
        "type": "string",
        "description": "Relative path to .vox file from library root (e.g., 'narrators/audiobook.vox')",
        "pattern": "^[a-z-]+/[a-z0-9-]+\\.vox$"
      },
      "name": {
        "type": "string",
        "description": "Display name of the voice",
        "minLength": 1
      },
      "description": {
        "type": "string",
        "description": "Brief description of voice characteristics and use case",
        "minLength": 10
      },
      "tags": {
        "type": "array",
        "description": "Searchable tags for categorization and discovery",
        "items": {
          "type": "string",
          "minLength": 1
        },
        "minItems": 1,
        "uniqueItems": true
      },
      "language": {
        "type": "string",
        "description": "Primary language code (BCP 47 format)",
        "pattern": "^[a-z]{2}(-[A-Z]{2})?$"
      },
      "gender": {
        "type": "string",
        "description": "Voice gender (optional)",
        "enum": ["male", "female", "nonbinary", "neutral"]
      },
      "age_range": {
        "type": "array",
        "description": "Age range [min, max] in years (optional)",
        "items": {
          "type": "integer",
          "minimum": 0,
          "maximum": 120
        },
        "minItems": 2,
        "maxItems": 2
      },
      "category": {
        "type": "string",
        "description": "Primary category (narrator, character, accent)",
        "enum": ["narrator", "character", "accent"]
      }
    },
    "additionalProperties": false
  }
}
